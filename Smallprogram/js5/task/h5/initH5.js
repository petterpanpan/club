"use strict";var _slicedToArray=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,i){try{var o=e[a](i),c=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})}}drill.init(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,n){var r,a,i,o,c,u,s,f,l=n.initActiveId;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("common/data","util/pageUtil","util/animationCSSUtil","data -r");case 2:return r=t.sent,a=_slicedToArray(r,4),i=a[0],o=a[1],c=a[2],u=a[3],$(".p_main > .page").each(function(t,e){var n=$(e);l===t?n.attr("active",1):n.attr("active",0);var r=e.pageData;t==l?n.css(c.toCSSObj(r.pos1_after)):t<l?n.css(c.toCSSObj(r.pos2_after)):n.css(c.toCSSObj(r.pos1))}),t.next=11,e("task/h5/initPageSwiper");case 11:return c.initAnimation(u.animation),i.on("changePageStart",function(t,e){e.activePage;var n=e.nextPage;o.clearPageAnime(n)}),i.on("changePageEnd",function(t,e){var n=e.activePage;e.oldPage;o.runPageAnime(n)}),s=$(".p_main > .page").eq(l),f=s.prop("pageData"),t.next=18,f.startLoad();case 18:return o.clearPageAnime(s),t.next=21,new Promise(function(t){return setTimeout(function(){return t()},200)});case 21:o.runPageAnime(s);case 22:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}());